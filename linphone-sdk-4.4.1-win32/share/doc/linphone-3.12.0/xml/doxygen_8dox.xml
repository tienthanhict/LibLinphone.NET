<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="doxygen_8dox" kind="file" language="C++">
    <compoundname>doxygen.dox</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="87"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>proxy_cfg<sp/>=<sp/><ref refid="group__proxies_1gac435e6efb12fedf8a016745c88ee09a4" kindref="member">linphone_proxy_config_new</ref>();</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*parse<sp/>identity*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__linphone__address_1ga5af5a516ac253e3cda4f51b599a5385b" kindref="member">LinphoneAddress</ref><sp/>*from<sp/>=<sp/><ref refid="group__linphone__address_1ga301c9884c0bc8b1050fe790d424e0b49" kindref="member">linphone_address_new</ref>(</highlight><highlight class="stringliteral">&quot;sip:toto@sip.titi.com&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__authentication_1ga0f8289c1aab407992864a68869107f4f" kindref="member">LinphoneAuthInfo</ref><sp/>*info;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(password!=NULL){</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info=<ref refid="group__authentication_1ga3ed49f2183897be832c8196dafc1d2a6" kindref="member">linphone_auth_info_new</ref>(<ref refid="group__linphone__address_1ga4fa5a4927c1d2f3a6b7c6824e35a87bf" kindref="member">linphone_address_get_username</ref>(from),NULL,</highlight><highlight class="stringliteral">&quot;secret&quot;</highlight><highlight class="normal">,NULL,NULL);<sp/></highlight><highlight class="comment">/*create<sp/>authentication<sp/>structure<sp/>from<sp/>identity*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__authentication_1ga62ac5bb34f0342f7edc733c42473b7aa" kindref="member">linphone_core_add_auth_info</ref>(lc,info);<sp/></highlight><highlight class="comment">/*add<sp/>authentication<sp/>info<sp/>to<sp/>LinphoneCore*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>configure<sp/>proxy<sp/>entries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1ga978c00a218b907a2f98fc59f5d217805" kindref="member">linphone_proxy_config_set_identity</ref>(proxy_cfg,identity);<sp/></highlight><highlight class="comment">/*set<sp/>identity<sp/>with<sp/>user<sp/>name<sp/>and<sp/>domain*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>server_addr<sp/>=<sp/><ref refid="group__linphone__address_1ga95a356f26c67ed4ee88db878b617c65f" kindref="member">linphone_address_get_domain</ref>(from);<sp/></highlight><highlight class="comment">/*extract<sp/>domain<sp/>address<sp/>from<sp/>identity*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1ga6e896345be76aaf6399ab4ed4532b2a4" kindref="member">linphone_proxy_config_set_server_addr</ref>(proxy_cfg,server_addr);<sp/></highlight><highlight class="comment">/*<sp/>we<sp/>assume<sp/>domain<sp/>=<sp/>proxy<sp/>server<sp/>address*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1gaea39579996645d4bc5e62e68ab097f17" kindref="member">linphone_proxy_config_enable_register</ref>(proxy_cfg,TRUE);<sp/></highlight><highlight class="comment">/*activate<sp/>registration<sp/>for<sp/>this<sp/>proxy<sp/>config*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__linphone__address_1ga46c6661354ae03a8f8d23d5be95f4991" kindref="member">linphone_address_destroy</ref>(from);<sp/></highlight><highlight class="comment">/*release<sp/>resource*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1gafe9c40e742c5b047fc9a6825da97d075" kindref="member">linphone_core_add_proxy_config</ref>(lc,proxy_cfg);<sp/></highlight><highlight class="comment">/*add<sp/>proxy<sp/>config<sp/>to<sp/>linphone<sp/>core*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1ga2082f2c37ffbf5d46e8d20ae8bccc2a4" kindref="member">linphone_core_set_default_proxy</ref>(lc,proxy_cfg);<sp/></highlight><highlight class="comment">/*set<sp/>to<sp/>default<sp/>proxy*/</highlight><highlight class="normal"><sp/>\endcode</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/>*&lt;br&gt;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/>*<sp/>Registration<sp/>sate<sp/>call<sp/>back:</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/>\code</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>registration_state_changed(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>_LinphoneCore<sp/>*lc,<sp/><ref refid="group__proxies_1ga1879a0d59e068457b688138da97f2d0b" kindref="member">LinphoneProxyConfig</ref><sp/>*cfg,<sp/><ref refid="group__proxies_1gabf1415b6c3722e92fc39ce592b1fe3e0" kindref="member">LinphoneRegistrationState</ref><sp/>cstate,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*message){</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;New<sp/>registration<sp/>state<sp/>%s<sp/>for<sp/>user<sp/>id<sp/>[%s]<sp/>at<sp/>proxy<sp/>[%s]\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>,<ref refid="group__proxies_1gae79c79371d71750ee987757d59785ed7" kindref="member">linphone_registration_state_to_string</ref>(cstate)</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>,<ref refid="group__proxies_1ga24cee22ec8347c97b6757f0bcb9f8dbe" kindref="member">linphone_proxy_config_get_identity</ref>(cfg)</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>,linphone_proxy_config_get_addr(cfg));</highlight></codeline>
<codeline lineno="112"><highlight class="normal">}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/>\endcode</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/>*&lt;br&gt;&lt;b&gt;Authentication:&lt;/b&gt;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/>*&lt;br&gt;Most<sp/>of<sp/>the<sp/>time,<sp/>registration<sp/>requires<sp/>\ref<sp/>authentication<sp/></highlight><highlight class="stringliteral">&quot;authentication&quot;</highlight><highlight class="normal"><sp/>to<sp/>succeed.<sp/>#<ref refid="group__authentication_1ga0f8289c1aab407992864a68869107f4f" kindref="member">LinphoneAuthInfo</ref><sp/>info<sp/>must<sp/>be<sp/>either<sp/>added<sp/>to<sp/>#<ref refid="group__initializing_1gaa5cf635b82dd338e7ee2dd3599d05f0a" kindref="member">LinphoneCore</ref><sp/><sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="group__authentication_1ga62ac5bb34f0342f7edc733c42473b7aa" kindref="member">linphone_core_add_auth_info</ref>()<sp/>before<sp/></highlight><highlight class="preprocessor">#LinphoneProxyConfig<sp/>is<sp/>added<sp/>to<sp/>Linphone<sp/>core,<sp/>or<sp/>on<sp/>demand<sp/>from<sp/>call<sp/>back<sp/>#LinphoneCoreAuthInfoRequestedCb.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/>*&lt;br&gt;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/>*&lt;br&gt;&lt;b&gt;Unregistration:&lt;/b&gt;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/>*&lt;br&gt;<sp/>Unregistration<sp/>or<sp/>any<sp/>changes<sp/>to<sp/>#<ref refid="group__proxies_1ga1879a0d59e068457b688138da97f2d0b" kindref="member">LinphoneProxyConfig</ref><sp/>must<sp/>be<sp/>first<sp/>started<sp/>by<sp/>a<sp/>call<sp/>to<sp/></highlight><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="group__proxies_1gadfddcce1c3dd138f144ae0421782834b" kindref="member">linphone_proxy_config_edit</ref>()<sp/>and<sp/>validated<sp/>by<sp/><sp/>function<sp/><ref refid="group__proxies_1ga2f48ab930fd797e1065c61b389f57988" kindref="member">linphone_proxy_config_done</ref>()</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/>*&lt;br&gt;<sp/>This<sp/>pseudo<sp/>code<sp/>shows<sp/>how<sp/>to<sp/>unregister<sp/>a<sp/>user<sp/>associated<sp/>to<sp/>a<sp/></highlight><highlight class="preprocessor">#LinphoneProxyConfig</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/>*\code</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1ga1879a0d59e068457b688138da97f2d0b" kindref="member">LinphoneProxyConfig</ref>*<sp/>proxy_cfg;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1ga763f9d7399c18c01feca3eb644c6377f" kindref="member">linphone_core_get_default_proxy</ref>(lc,&amp;proxy_cfg);<sp/></highlight><highlight class="comment">/*<sp/>get<sp/>default<sp/>proxy<sp/>config*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1gadfddcce1c3dd138f144ae0421782834b" kindref="member">linphone_proxy_config_edit</ref>(proxy_cfg);<sp/></highlight><highlight class="comment">/*start<sp/>editing<sp/>proxy<sp/>configuration*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1gaea39579996645d4bc5e62e68ab097f17" kindref="member">linphone_proxy_config_enable_register</ref>(proxy_cfg,FALSE);<sp/></highlight><highlight class="comment">/*de-activate<sp/>registration<sp/>for<sp/>this<sp/>proxy<sp/>config*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1ga2f48ab930fd797e1065c61b389f57988" kindref="member">linphone_proxy_config_done</ref>(proxy_cfg);<sp/></highlight><highlight class="comment">/*initiate<sp/>REGISTER<sp/>with<sp/>expire<sp/>=<sp/>0*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal">\endcode</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;br&gt;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>A<sp/>complete<sp/>tutorial<sp/>can<sp/>be<sp/>found<sp/>at<sp/>:<sp/>\ref<sp/>registration_tutorials<sp/></highlight><highlight class="stringliteral">&quot;Registration<sp/>tutorial&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal">**/</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/>*<sp/><ref refid="group__buddy__list_1gabb5a04025a91d8429819ca3898369bab" kindref="member">linphone_friend_enable_subscribes</ref>(my_friend,TRUE);<sp/></highlight><highlight class="comment">/*configure<sp/>this<sp/>friend<sp/>to<sp/>emit<sp/>SUBSCRIBE<sp/>message<sp/>after<sp/>being<sp/>added<sp/>to<sp/>LinphoneCore*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/>*<sp/><ref refid="group__buddy__list_1ga54ac1eb7f29193adf80f03cfffba7482" kindref="member">linphone_friend_set_inc_subscribe_policy</ref>(my_friend,<ref refid="group__buddy__list_1gga81effcfcab907fd8530e53ca5b0bc10aa876507f111b9ea7c5fb4eac01bac22dd" kindref="member">LinphoneSPAccept</ref>);<sp/></highlight><highlight class="comment">/*<sp/>accept<sp/>Incoming<sp/>subscription<sp/>request<sp/>for<sp/>this<sp/>friend*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/>*<sp/>\endcode</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/>*<sp/>\link<sp/>#<ref refid="group__buddy__list_1ga2f0508bab6d8ded431ce8b1a679a1522" kindref="member">LinphoneFriend</ref><sp/><sp/>friends<sp/>\endlink<sp/>status<sp/>changes<sp/>are<sp/>reported<sp/>by<sp/>callback<sp/><ref refid="struct__LinphoneCoreVTable" kindref="compound">LinphoneCoreVTable</ref>.notify_presence_recv</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/>*<sp/>\code</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/>*<sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>notify_presence_recv_updated<sp/>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>_LinphoneCore<sp/>*lc,<sp/><sp/><ref refid="group__buddy__list_1ga2f0508bab6d8ded431ce8b1a679a1522" kindref="member">LinphoneFriend</ref><sp/>*</highlight><highlight class="keyword">friend</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="group__linphone__address_1ga5af5a516ac253e3cda4f51b599a5385b" kindref="member">LinphoneAddress</ref>*<sp/>friend_address<sp/>=<sp/><ref refid="group__buddy__list_1ga1bbbe1f2b3760587681b8392d87efffa" kindref="member">linphone_friend_get_address</ref>(</highlight><highlight class="keyword">friend</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;New<sp/>state<sp/>state<sp/>[%s]<sp/>for<sp/>user<sp/>id<sp/>[%s]<sp/>\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>,linphone_online_status_to_string(<ref refid="group__buddy__list_1gaa4f29db5f12bf8284d97460719bfe499" kindref="member">linphone_friend_get_status</ref>(</highlight><highlight class="keyword">friend</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>,<ref refid="group__linphone__address_1ga24c1a16f49f8b72f2bab65cc5d8a51af" kindref="member">linphone_address_as_string</ref><sp/>(friend_address));</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/>*<sp/>}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/>*<sp/>\endcode</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;Once<sp/>created<sp/>a<sp/>buddy<sp/>can<sp/>be<sp/>added<sp/>to<sp/>the<sp/>buddy<sp/>list<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="group__buddy__list_1ga3a8e9184320402082bf35226ae8d25b8" kindref="member">linphone_core_add_friend</ref>()<sp/>.<sp/>Added<sp/>friends<sp/>will<sp/>be<sp/>notified<sp/>about<sp/>\link<sp/><ref refid="group__buddy__list_1gabb6d2cac61ac420f3205a849dd59deb3" kindref="member">linphone_core_set_presence_info</ref>()<sp/>local<sp/>status<sp/>changes<sp/>\endlink</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/>*<sp/>Any<sp/>subsequente<sp/>modifications<sp/>to<sp/></highlight><highlight class="preprocessor">#LinphoneFriend<sp/>must<sp/>be<sp/>first<sp/>started<sp/>by<sp/>a<sp/>call<sp/>to<sp/>function<sp/>linphone_friend_edit()<sp/>and<sp/>validated<sp/>by<sp/><sp/>function<sp/>linphone_friend_done()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/>*<sp/>\code</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/>*<sp/><ref refid="group__buddy__list_1ga254b01923c79947a5d23981d47639f40" kindref="member">linphone_friend_edit</ref>(my_friend);<sp/></highlight><highlight class="comment">/*<sp/>start<sp/>editing<sp/>friend<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/>*<sp/><ref refid="group__buddy__list_1gabb5a04025a91d8429819ca3898369bab" kindref="member">linphone_friend_enable_subscribes</ref>(my_friend,FALSE);<sp/></highlight><highlight class="comment">/*disable<sp/>subscription<sp/>for<sp/>this<sp/>friend*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/>*<sp/><ref refid="group__buddy__list_1ga6e28513bba28f948ee61341384a36958" kindref="member">linphone_friend_done</ref>(my_friend);<sp/></highlight><highlight class="comment">/*commit<sp/>changes<sp/>triggering<sp/>an<sp/>UNSUBSCRIBE<sp/>message*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/>*<sp/>\endcode</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/>*<sp/></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/>*<sp/></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/>*<sp/>&lt;b&gt;<sp/>Publishing<sp/>presence<sp/>status<sp/>&lt;/b&gt;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;Local<sp/>presence<sp/>status<sp/>can<sp/>be<sp/>changed<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="group__buddy__list_1ga8b8f1c93a0c9a7d355b1899969058fb3" kindref="member">linphone_core_set_presence_model</ref>()<sp/>.New<sp/>status<sp/>is<sp/>propagated<sp/>to<sp/>all<sp/>friends<sp/>\link<sp/><ref refid="group__buddy__list_1ga3a8e9184320402082bf35226ae8d25b8" kindref="member">linphone_core_add_friend</ref>()<sp/>previously<sp/>added<sp/>\endlink<sp/>to<sp/></highlight><highlight class="preprocessor">#LinphoneCore.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/>*<sp/></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/>*<sp/>&lt;b&gt;Handling<sp/>incoming<sp/>subscription<sp/>request&lt;/b&gt;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;<sp/>New<sp/>incoming<sp/>subscription<sp/>requests<sp/>are<sp/>process<sp/>according<sp/>to<sp/>\link<sp/><ref refid="group__buddy__list_1ga54ac1eb7f29193adf80f03cfffba7482" kindref="member">linphone_friend_set_inc_subscribe_policy</ref>()<sp/>the<sp/>incoming<sp/>subscription<sp/>policy<sp/>state<sp/>\endlink<sp/>for<sp/>subscription<sp/>initiated<sp/>by<sp/>\link<sp/><ref refid="group__buddy__list_1ga3a8e9184320402082bf35226ae8d25b8" kindref="member">linphone_core_add_friend</ref>()<sp/>members<sp/>of<sp/>the<sp/>buddy<sp/>list.<sp/>\endlink</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;<sp/>For<sp/>incoming<sp/>request<sp/>comming<sp/>from<sp/>an<sp/>unknown<sp/>buddy,<sp/>the<sp/>call<sp/>back<sp/><sp/><ref refid="struct__LinphoneCoreVTable" kindref="compound">LinphoneCoreVTable</ref>.new_subscription_request<sp/>is<sp/>invoked.</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/>*<sp/></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;<sp/>A<sp/>complete<sp/>tutorial<sp/>can<sp/>be<sp/>found<sp/>at<sp/>:<sp/>\ref<sp/>buddy_tutorials<sp/>&quot;Registration<sp/>tutorial&quot;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/>*<sp/></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/>*<sp/></highlight></codeline>
<codeline lineno="185"><highlight class="normal">**/</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/>*<sp/>\endcode</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;Incoming<sp/>message<sp/>are<sp/>received<sp/>from<sp/>call<sp/>back<sp/><ref refid="struct__LinphoneCoreVTable" kindref="compound">LinphoneCoreVTable</ref>.text_received</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/>*<sp/>\code</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/>*<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>text_received(<ref refid="group__initializing_1gaa5cf635b82dd338e7ee2dd3599d05f0a" kindref="member">LinphoneCore</ref><sp/>*lc,<sp/><ref refid="group__chatroom_1ga37902f3fc715b7f6451c241d0efd0299" kindref="member">LinphoneChatRoom</ref><sp/>*room,<sp/>const<sp/><ref refid="group__linphone__address_1ga5af5a516ac253e3cda4f51b599a5385b" kindref="member">LinphoneAddress</ref><sp/>*from,<sp/>const<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*message)<sp/>{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;<sp/>Message<sp/>[%s]<sp/>received<sp/>from<sp/>[%s]<sp/>\n&quot;</highlight><highlight class="normal">,message,<ref refid="group__linphone__address_1ga24c1a16f49f8b72f2bab65cc5d8a51af" kindref="member">linphone_address_as_string</ref><sp/>(from));</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/>*<sp/>}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/>*<sp/>\endcode</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/>*<sp/>&lt;br&gt;<sp/>A<sp/>complete<sp/>tutorial<sp/>can<sp/>be<sp/>found<sp/>at<sp/>:<sp/>\ref<sp/>chatroom_tuto<sp/></highlight><highlight class="stringliteral">&quot;Chat<sp/>room<sp/>tutorial&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal">**/</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handler:^{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//refresh<sp/>sip<sp/>registration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__proxies_1ga130795ea67730f7b01f7b51fe6bdb44f" kindref="member">linphone_core_refresh_registers</ref>(theLinphoneCore);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//make<sp/>sure<sp/>sip<sp/>REGISTER<sp/>is<sp/>sent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__initializing_1ga7bdac8ac386483fc4e0876e4c5d13755" kindref="member">linphone_core_iterate</ref>(theLinphoneCore);</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}];</highlight></codeline>
<codeline lineno="309"><highlight class="normal">\endcode</highlight></codeline>
<codeline lineno="310"><highlight class="normal">&lt;li&gt;&lt;b&gt;Incoming<sp/>call<sp/>notification<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>in<sp/>background<sp/>mode&lt;/b&gt;</highlight></codeline>
<codeline lineno="311"><highlight class="normal">&lt;br&gt;Assuming<sp/>application<sp/></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/>liblinphone<sp/>is<sp/>well<sp/>configured<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>multitasking,<sp/>incoming<sp/>calls<sp/>arriving<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>liblinphone<sp/>is<sp/>in<sp/>background<sp/>mode<sp/>will<sp/>simply<sp/>wakeup<sp/>liblinphone<sp/>thread<sp/>but<sp/>not<sp/>resume<sp/>GUI.<sp/>To<sp/>wakeup<sp/>GUI,<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>send<sp/>a<sp/>Local<sp/>Notification<sp/>to<sp/>the<sp/>user<sp/>from<sp/>the<sp/>#<ref refid="group__initializing_1gaa680c67133ac6e4e2f08363d5d83c471" kindref="member">LinphoneCoreCallStateChangedCb</ref>.<sp/>Here<sp/>under<sp/>a<sp/>speudo<sp/>code<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>operation:</highlight></codeline>
<codeline lineno="312"><highlight class="normal">\code</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>([UIApplication<sp/>sharedApplication].applicationState<sp/>!=<sp/><sp/>UIApplicationStateActive)<sp/>{</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>a<sp/>new<sp/>notification</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UILocalNotification*<sp/>notif<sp/>=<sp/>[[[UILocalNotification<sp/>alloc]<sp/>init]<sp/>autorelease];</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(notif)<sp/>{</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>notif.repeatInterval<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>notif.alertBody<sp/>=</highlight><highlight class="stringliteral">@&quot;New<sp/>incoming<sp/>call&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>notif.alertAction<sp/>=<sp/></highlight><highlight class="stringliteral">@&quot;Answer&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>notif.soundName<sp/>=<sp/></highlight><highlight class="stringliteral">@&quot;oldphone-mono-30s.caf&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[[UIApplication<sp/>sharedApplication]<sp/><sp/>presentLocalNotificationNow:notif];</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="324"><highlight class="normal">\endcode</highlight></codeline>
<codeline lineno="325"><highlight class="normal">&lt;/ul&gt;</highlight></codeline>
<codeline lineno="326"><highlight class="normal">&lt;b&gt;Networking&lt;/b&gt;</highlight></codeline>
<codeline lineno="327"><highlight class="normal">&lt;br&gt;</highlight></codeline>
<codeline lineno="328"><highlight class="normal">&lt;ul&gt;&lt;li&gt;&lt;b&gt;WWAN<sp/>connection&lt;/b&gt;</highlight></codeline>
<codeline lineno="329"><highlight class="normal">&lt;br&gt;Liblinphone<sp/>relies<sp/>on<sp/>iOS</highlight><highlight class="stringliteral">&apos;s<sp/>standard<sp/>BSD<sp/>socket<sp/>layer<sp/>for<sp/>sip/rtp<sp/>networking.<sp/>On<sp/>IOS,<sp/>WWAN<sp/>connection<sp/>is<sp/>supposed<sp/>to<sp/>automatically<sp/>bring<sp/>up<sp/>on<sp/>any<sp/>networking<sp/>resquest<sp/>issued<sp/>by<sp/>an<sp/>application.<sp/>At<sp/>least<sp/>on<sp/>iPhone<sp/>OS<sp/>3.x,<sp/>BSD<sp/>sockets<sp/>do<sp/>not<sp/>implement<sp/>this<sp/>behavior.<sp/>So<sp/>it<sp/>is<sp/>recomended<sp/>to<sp/>add<sp/>a<sp/>special<sp/>code<sp/>to<sp/>make<sp/>sure<sp/>the<sp/>WWAN<sp/>connection<sp/>is<sp/>properly<sp/>setup.<sp/>Pseudo<sp/>code<sp/>below<sp/>describes<sp/>a<sp/>way<sp/>to<sp/>force<sp/>WWAN<sp/>connection<sp/>by<sp/>setting<sp/>up<sp/>a<sp/>dummy<sp/>TCP<sp/>connection.</highlight></codeline>
<codeline lineno="330"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="331"><highlight class="stringliteral">/*start<sp/>a<sp/>new<sp/>thread<sp/>to<sp/>avoid<sp/>blocking<sp/>the<sp/>main<sp/>ui<sp/>in<sp/>case<sp/>of<sp/>peer<sp/>host<sp/>failure*/</highlight></codeline>
<codeline lineno="332"><highlight class="stringliteral">[NSThread<sp/>detachNewThreadSelector:@selector(runNetworkConnection)<sp/>toTarget:self<sp/>withObject:nil];</highlight></codeline>
<codeline lineno="333"><highlight class="stringliteral">-(void)<sp/>runNetworkConnection<sp/>{</highlight></codeline>
<codeline lineno="334"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFWriteStreamRef<sp/>writeStream;</highlight></codeline>
<codeline lineno="335"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//create<sp/>a<sp/>dummy<sp/>socket</highlight></codeline>
<codeline lineno="336"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFStreamCreatePairWithSocketToHost(NULL,<sp/>(CFStringRef)@&quot;192.168.0.200&quot;,<sp/>15000,<sp/>nil,<sp/>&amp;writeStream);</highlight></codeline>
<codeline lineno="337"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFWriteStreamOpen<sp/>(writeStream);</highlight></codeline>
<codeline lineno="338"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>const<sp/>char*<sp/>buff=&quot;hello&quot;;</highlight></codeline>
<codeline lineno="339"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//try<sp/>to<sp/>write<sp/>on<sp/>this<sp/>socket</highlight></codeline>
<codeline lineno="340"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFWriteStreamWrite<sp/>(writeStream,(const<sp/>UInt8*)buff,strlen(buff));</highlight></codeline>
<codeline lineno="341"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CFWriteStreamClose<sp/>(writeStream);</highlight></codeline>
<codeline lineno="342"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="343"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="344"><highlight class="stringliteral">It<sp/>is<sp/>recommanded<sp/>to<sp/>perform<sp/>this<sp/>task<sp/>each<sp/>time<sp/>the<sp/>application<sp/>is<sp/>woken<sp/>up,<sp/>including<sp/>keep<sp/>alive<sp/>handler.</highlight></codeline>
<codeline lineno="345"><highlight class="stringliteral">&lt;li&gt;&lt;b&gt;Managing<sp/>IP<sp/>connection<sp/>state&lt;/b&gt;</highlight></codeline>
<codeline lineno="346"><highlight class="stringliteral">&lt;br&gt;Liblinphone<sp/>for<sp/>IOS<sp/>relies<sp/>on<sp/>the<sp/>application<sp/>to<sp/>be<sp/>informed<sp/>of<sp/>network<sp/>connectivity<sp/>changes.<sp/>Network<sp/>state<sp/>changes<sp/>when<sp/>the<sp/>IP<sp/>connection<sp/>moves<sp/>from<sp/>DOWN<sp/>to<sp/>UP,<sp/>or<sp/>from<sp/>WIFI<sp/>to<sp/>WWAN.<sp/>Applications<sp/>using<sp/>liblinphone<sp/>must<sp/>inform<sp/>libliblinphone<sp/>of<sp/>this<sp/>changes<sp/>using<sp/>function<sp/>#linphone_core_set_network_reachable().<sp/>Usually<sp/>this<sp/>method<sp/>is<sp/>called<sp/>from<sp/>the<sp/>IOS<sp/>NetworkReachability<sp/>callback.<sp/>Here<sp/>under<sp/>a<sp/>sample<sp/>code:</highlight></codeline>
<codeline lineno="347"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="348"><highlight class="stringliteral">//typical<sp/>reachability<sp/>callback</highlight></codeline>
<codeline lineno="349"><highlight class="stringliteral">void<sp/>networkReachabilityCallBack(SCNetworkReachabilityRef<sp/>target,<sp/>SCNetworkReachabilityFlags<sp/>flags,<sp/>void<sp/>*<sp/>info)<sp/>{</highlight></codeline>
<codeline lineno="350"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>((flags<sp/>==<sp/>0)<sp/>|<sp/>(flags<sp/>&amp;<sp/>(kSCNetworkReachabilityFlagsConnectionRequired<sp/>|kSCNetworkReachabilityFlagsConnectionOnTraffic)))<sp/>{</highlight></codeline>
<codeline lineno="351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//network<sp/>state<sp/>is<sp/>off</highlight></codeline>
<codeline lineno="352"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_network_reachable(lc,false);</highlight></codeline>
<codeline lineno="353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((LinphoneManager*)info).connectivity<sp/>=<sp/>none;</highlight></codeline>
<codeline lineno="354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/>else<sp/>{</highlight></codeline>
<codeline lineno="355"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Connectivity<sp/><sp/>newConnectivity<sp/>=<sp/>flags<sp/>&amp;<sp/>kSCNetworkReachabilityFlagsIsWWAN<sp/>?<sp/>wwan:wifi;</highlight></codeline>
<codeline lineno="356"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(lLinphoneMgr.connectivity<sp/>==<sp/>none)<sp/>{</highlight></codeline>
<codeline lineno="357"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//notify<sp/>new<sp/>network<sp/>state</highlight></codeline>
<codeline lineno="358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_network_reachable(lc,true);</highlight></codeline>
<codeline lineno="359"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/>else<sp/>if<sp/>(lLinphoneMgr.connectivity<sp/>!=<sp/>newConnectivity)<sp/>{</highlight></codeline>
<codeline lineno="360"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>connectivity<sp/>has<sp/>changed</highlight></codeline>
<codeline lineno="361"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_network_reachable(lc,false);</highlight></codeline>
<codeline lineno="362"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_network_reachable(lc,true);</highlight></codeline>
<codeline lineno="363"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="364"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//store<sp/>new<sp/>connectivity<sp/>status</highlight></codeline>
<codeline lineno="365"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lLinphoneMgr.connectivity=newConnectivity;</highlight></codeline>
<codeline lineno="366"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="367"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="368"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="369"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="370"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="371"><highlight class="stringliteral">&lt;/ul&gt;</highlight></codeline>
<codeline lineno="372"><highlight class="stringliteral">&lt;b&gt;<sp/>Sound<sp/>cards<sp/>&lt;/b&gt;</highlight></codeline>
<codeline lineno="373"><highlight class="stringliteral">&lt;br&gt;<sp/>Since<sp/>IOS<sp/>5.0,<sp/>liblinphone<sp/>supports<sp/>2<sp/>sound<sp/>cards.<sp/>&lt;i&gt;AU:<sp/>Audio<sp/>Unit<sp/>Receiver&lt;/i&gt;<sp/>based<sp/>on<sp/>IO<sp/>units<sp/>for<sp/>voice<sp/>calls<sp/>plus<sp/>&lt;i&gt;AQ:<sp/>Audio<sp/>Queue<sp/>Device&lt;/i&gt;<sp/>dedicated<sp/>to<sp/>rings.<sp/>Here<sp/>under<sp/>the<sp/>recommended<sp/>settings<sp/>(I.E<sp/>default<sp/>one)</highlight></codeline>
<codeline lineno="374"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="375"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_playback_device(lc,<sp/>&quot;AU:<sp/>Audio<sp/>Unit<sp/>Receiver&quot;);</highlight></codeline>
<codeline lineno="376"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_ringer_device(lc,<sp/>&quot;AQ:<sp/>Audio<sp/>Queue<sp/>Device&quot;);</highlight></codeline>
<codeline lineno="377"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_capture_device(lc,<sp/>&quot;AU:<sp/>Audio<sp/>Unit<sp/>Receiver&quot;);</highlight></codeline>
<codeline lineno="378"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="379"><highlight class="stringliteral">&lt;b&gt;<sp/>GSM<sp/>call<sp/>interaction<sp/>&lt;/b&gt;</highlight></codeline>
<codeline lineno="380"><highlight class="stringliteral">&lt;br&gt;<sp/>To<sp/>ensure<sp/>gentle<sp/>interaction<sp/>with<sp/>GSM<sp/>calls,<sp/>it<sp/>is<sp/>recommended<sp/>to<sp/>register<sp/>an<sp/>AudioSession<sp/>delegate.<sp/>This<sp/>allows<sp/>the<sp/>application<sp/>to<sp/>be<sp/>notified<sp/>when<sp/>its<sp/>audio<sp/>session<sp/>is<sp/>interrupted/resumed<sp/>(presumably<sp/>by<sp/>a<sp/>GSM<sp/>call).</highlight></codeline>
<codeline lineno="381"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="382"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>//<sp/>declare<sp/>a<sp/>class<sp/>handling<sp/>the<sp/>AVAudioSessionDelegate<sp/>protocol</highlight></codeline>
<codeline lineno="383"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>@interface<sp/>MyClass<sp/>:<sp/>NSObject<sp/>&lt;AVAudioSessionDelegate&gt;<sp/>{<sp/>[...]<sp/>}</highlight></codeline>
<codeline lineno="384"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>//<sp/>implement<sp/>2<sp/>methods<sp/>:<sp/>here&apos;</highlight><highlight class="normal">s<sp/>an<sp/>example<sp/>implementation</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/>-(void)<sp/>beginInterruption<sp/>{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__call__control_1gac0a4861d7c4702c64f7106f2b893c69e" kindref="member">LinphoneCall</ref>*<sp/>c<sp/>=<sp/><ref refid="group__call__control_1gac268a222347024ad7adb4eaf1fd27241" kindref="member">linphone_core_get_current_call</ref>(theLinphoneCore);</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_message(</highlight><highlight class="stringliteral">&quot;Sound<sp/>interruption<sp/>detected!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c)<sp/>{</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__call__control_1gaaccf9c3d447bfd0b6fbb9f80c6698f85" kindref="member">linphone_core_pause_call</ref>(theLinphoneCore,<sp/>c);</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>-(void)<sp/>endInterruption<sp/>{</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_message(</highlight><highlight class="stringliteral">&quot;Sound<sp/>interruption<sp/>ended!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>MSList*<sp/>c<sp/>=<sp/><ref refid="group__call__control_1gaa25d228a47a97dd44d5ff4d1e4d4d5ba" kindref="member">linphone_core_get_calls</ref>(theLinphoneCore);</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c)<sp/>{</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ms_message(</highlight><highlight class="stringliteral">&quot;Auto<sp/>resuming<sp/>call&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__call__control_1ga4748ae709cad319911494c957cc7e2b8" kindref="member">linphone_core_resume_call</ref>(theLinphoneCore,<sp/>(<ref refid="group__call__control_1gac0a4861d7c4702c64f7106f2b893c69e" kindref="member">LinphoneCall</ref>*)<sp/>c-&gt;data);</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal">\endcode</highlight></codeline>
<codeline lineno="403"><highlight class="normal">@see<sp/>http:</highlight><highlight class="comment">//developer.apple.com/library/ios/#documentation/AVFoundation/Reference/AVAudioSessionDelegate_ProtocolReference/Reference/Reference.html</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal">&lt;br&gt;<sp/>Declare<sp/>an<sp/>instance<sp/>of<sp/>your<sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">as<sp/>AudioSession&apos;s<sp/>delegate<sp/>:</highlight></codeline>
<codeline lineno="406"><highlight class="normal">\code</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>[audioSession<sp/>setDelegate:myClassInstance];</highlight></codeline>
<codeline lineno="408"><highlight class="normal">\endcode</highlight></codeline>
<codeline lineno="409"><highlight class="normal">@see<sp/>http:</highlight><highlight class="comment">//developer.apple.com/library/ios/#documentation/AVFoundation/Reference/AVAudioSession_ClassReference/Reference/Reference.html</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal">&lt;b&gt;<sp/>Video<sp/>&lt;/b&gt;</highlight></codeline>
<codeline lineno="412"><highlight class="normal">&lt;br&gt;Since<sp/>3.5<sp/>video<sp/>support<sp/>has<sp/>been<sp/>added<sp/>to<sp/>liblinphone<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>IOS.<sp/>It<sp/>requires<sp/>the<sp/>application<sp/>to<sp/>provide<sp/>liblinphone<sp/>with<sp/>pointers<sp/>to<sp/>IOS</highlight><highlight class="stringliteral">&apos;s<sp/>views<sp/>hosting<sp/>video<sp/>display<sp/>and<sp/>video<sp/>previous.</highlight></codeline>
<codeline lineno="413"><highlight class="stringliteral">&lt;br&gt;<sp/>These<sp/>2<sp/>UIView<sp/>objects<sp/>must<sp/>be<sp/>passed<sp/>to<sp/>the<sp/>core<sp/>using<sp/>functions<sp/><sp/>#linphone_core_set_native_video_window_id()<sp/>and<sp/>#linphone_core_set_native_preview_window_id().<sp/>here<sp/>under<sp/>speudo<sp/>code:</highlight></codeline>
<codeline lineno="414"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="415"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UIView*<sp/>display<sp/>=<sp/>[[UIView<sp/>alloc]<sp/>init];</highlight></codeline>
<codeline lineno="416"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UIView*<sp/>preview<sp/>=<sp/>[[UIView<sp/>alloc]<sp/>init];</highlight></codeline>
<codeline lineno="417"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_native_video_window_id(lc,(unsigned<sp/>long)display);</highlight></codeline>
<codeline lineno="418"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_native_preview_window_id(lc,(unsigned<sp/>long)preview);</highlight></codeline>
<codeline lineno="419"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="420"><highlight class="stringliteral">&lt;br&gt;<sp/>Screen<sp/>rotations<sp/>are<sp/>also<sp/>handled<sp/>by<sp/>liblinphone.<sp/>2<sp/>positions<sp/>are<sp/>currently<sp/>supported,<sp/>namely<sp/>&lt;i&gt;UIInterfaceOrientationPortrait&lt;/i&gt;<sp/>and<sp/>&lt;i&gt;UIInterfaceOrientationLandscapeRight&lt;/i&gt;.<sp/>Applications<sp/>may<sp/>invoke<sp/>#linphone_core_set_device_rotation()<sp/>followed<sp/>by<sp/>#linphone_core_update_call()<sp/>to<sp/>notify<sp/>liblinphone<sp/>of<sp/>an<sp/>orientation<sp/>change.<sp/>Here<sp/>under<sp/>a<sp/>speudo<sp/>code<sp/>to<sp/>handle<sp/>orientation<sp/>changes</highlight></codeline>
<codeline lineno="421"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="422"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="423"><highlight class="stringliteral">-(void)<sp/>configureOrientation:(UIInterfaceOrientation)<sp/>oritentation<sp/><sp/>{</highlight></codeline>
<codeline lineno="424"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int<sp/>oldLinphoneOrientation<sp/>=<sp/>linphone_core_get_device_rotation(lc);</highlight></codeline>
<codeline lineno="425"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(oritentation<sp/>==<sp/>UIInterfaceOrientationPortrait<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="426"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_native_video_window_id(lc,(unsigned<sp/>long)display-portrait);</highlight></codeline>
<codeline lineno="427"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_native_preview_window_id(lc,(unsigned<sp/>long)preview-portrait);</highlight></codeline>
<codeline lineno="428"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_device_rotation(lc,<sp/>0);</highlight></codeline>
<codeline lineno="429"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="430"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/>else<sp/>if<sp/>(oritentation<sp/>==<sp/>UIInterfaceOrientationLandscapeRight<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="431"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_native_video_window_id(lc,(unsigned<sp/>long)display-landscape);</highlight></codeline>
<codeline lineno="432"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_native_preview_window_id(lc,(unsigned<sp/>long)preview-landscape);</highlight></codeline>
<codeline lineno="433"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_set_device_rotation(lc,<sp/>270);</highlight></codeline>
<codeline lineno="434"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="435"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>((oldLinphoneOrientation<sp/>!=<sp/>linphone_core_get_device_rotation(lc))</highlight></codeline>
<codeline lineno="437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>linphone_core_get_current_call(lc))<sp/>{</highlight></codeline>
<codeline lineno="438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//Orientation<sp/>has<sp/>changed,<sp/>must<sp/>call<sp/>update<sp/>call</highlight></codeline>
<codeline lineno="439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_update_call(lc,<sp/>linphone_core_get_current_call(lc),<sp/>NULL);</highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="stringliteral">}</highlight></codeline>
<codeline lineno="442"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="443"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="444"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="445"><highlight class="stringliteral">&lt;b&gt;DTMF<sp/>feebacks&lt;/b&gt;</highlight></codeline>
<codeline lineno="446"><highlight class="stringliteral">&lt;br&gt;Liblinphone<sp/>provides<sp/>functions<sp/>\link<sp/>#linphone_core_play_dtmf()<sp/>to<sp/>play<sp/>dtmf<sp/>\endlink<sp/>to<sp/>the<sp/>local<sp/>user.<sp/>Usually<sp/>this<sp/>is<sp/>used<sp/>to<sp/>play<sp/>a<sp/>sound<sp/>when<sp/>the<sp/>user<sp/>presses<sp/>a<sp/>digit,<sp/>inside<sp/>or<sp/>outside<sp/>of<sp/>any<sp/>call.<sp/>On<sp/>IOS,<sp/>libLinphone<sp/>relies<sp/>on<sp/>AudioUnits<sp/>for<sp/>interfacing<sp/>with<sp/>the<sp/>audio<sp/>system.<sp/>Unfortunately<sp/>the<sp/>Audio<sp/>Unit<sp/>initialization<sp/>is<sp/>a<sp/>quite<sp/>long<sp/>operation<sp/>that<sp/>may<sp/>trigger<sp/>a<sp/>bad<sp/>user<sp/>experience<sp/>if<sp/>performed<sp/>each<sp/>time<sp/>a<sp/>DTMF<sp/>is<sp/>played,<sp/>the<sp/>sound<sp/>being<sp/>delayed<sp/>half<sp/>a<sp/>second<sp/>after<sp/>the<sp/>press.<sp/>To<sp/>solve<sp/>this<sp/>issue<sp/>and<sp/>thus<sp/>insure<sp/>real-time<sp/>precision,<sp/>liblinphone<sp/>introduces<sp/>2<sp/>functions<sp/>for<sp/>\link<sp/>linphone_core_start_dtmf_stream()<sp/>preloading<sp/>\endlink<sp/>and<sp/>\link<sp/>#linphone_core_start_dtmf_stream()<sp/>unloading<sp/>\endlink<sp/>the<sp/>underlying<sp/>audio<sp/>graph<sp/>responsible<sp/>for<sp/>playing<sp/>DTMFs.</highlight></codeline>
<codeline lineno="447"><highlight class="stringliteral">&lt;br&gt;<sp/>For<sp/>an<sp/>application<sp/>using<sp/>function<sp/>#linphone_core_play_dtmf(),<sp/>it<sp/>is<sp/>recommanded<sp/>to<sp/>call<sp/>#linphone_core_start_dtmf_stream()<sp/>when<sp/>entering<sp/>in<sp/>foreground<sp/>and<sp/>#linphone_core_stop_dtmf_stream()<sp/>upon<sp/>entering<sp/>background<sp/>mode.</highlight></codeline>
<codeline lineno="448"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="449"><highlight class="stringliteral">&lt;b&gt;Plugins&lt;/b&gt;</highlight></codeline>
<codeline lineno="450"><highlight class="stringliteral">&lt;br&gt;On<sp/>iOS,<sp/>plugins<sp/>are<sp/>built<sp/>as<sp/>static<sp/>libraries<sp/>so<sp/>Liblinphone<sp/>will<sp/>not<sp/>be<sp/>able<sp/>to<sp/>load<sp/>them<sp/>at<sp/>runtime<sp/>dynamically.<sp/>Instead,<sp/>you<sp/>should<sp/>declare<sp/>their<sp/>prototypes:</highlight></codeline>
<codeline lineno="451"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="452"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="453"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="454"><highlight class="stringliteral">extern<sp/>void<sp/>libmsamr_init(MSFactory<sp/>*factory);</highlight></codeline>
<codeline lineno="455"><highlight class="stringliteral">extern<sp/>void<sp/>libmsx264_init(MSFactory<sp/>*factory);</highlight></codeline>
<codeline lineno="456"><highlight class="stringliteral">extern<sp/>void<sp/>libmsopenh264_init(MSFactory<sp/>*factory);</highlight></codeline>
<codeline lineno="457"><highlight class="stringliteral">extern<sp/>void<sp/>libmssilk_init(MSFactory<sp/>*factory);</highlight></codeline>
<codeline lineno="458"><highlight class="stringliteral">extern<sp/>void<sp/>libmsbcg729_init(MSFactory<sp/>*factory);</highlight></codeline>
<codeline lineno="459"><highlight class="stringliteral">extern<sp/>void<sp/>libmswebrtc_init(MSFactory<sp/>*factory);</highlight></codeline>
<codeline lineno="460"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="461"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="462"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="463"><highlight class="stringliteral">Then<sp/>you<sp/>should<sp/>register<sp/>them<sp/>after<sp/>the<sp/>instantiation<sp/>of<sp/>LinphoneCore:</highlight></codeline>
<codeline lineno="464"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="465"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="466"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="467"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theLinphoneCore<sp/>=<sp/>linphone_core_new_with_config(/*<sp/>options<sp/>...<sp/>*/);</highlight></codeline>
<codeline lineno="468"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="469"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>Load<sp/>plugins<sp/>if<sp/>available<sp/>in<sp/>the<sp/>linphone<sp/>SDK<sp/>-<sp/>otherwise<sp/>these<sp/>calls<sp/>will<sp/>do<sp/>nothing</highlight></codeline>
<codeline lineno="470"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MSFactory<sp/>*f<sp/>=<sp/>linphone_core_get_ms_factory(theLinphoneCore);</highlight></codeline>
<codeline lineno="471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libmssilk_init(f);</highlight></codeline>
<codeline lineno="472"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libmsamr_init(f);</highlight></codeline>
<codeline lineno="473"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libmsx264_init(f);</highlight></codeline>
<codeline lineno="474"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libmsopenh264_init(f);</highlight></codeline>
<codeline lineno="475"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libmsbcg729_init(f);</highlight></codeline>
<codeline lineno="476"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libmswebrtc_init(f);</highlight></codeline>
<codeline lineno="477"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linphone_core_reload_ms_plugins(theLinphoneCore,<sp/>NULL);</highlight></codeline>
<codeline lineno="478"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="479"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="480"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="481"><highlight class="stringliteral">If<sp/>the<sp/>plugin<sp/>has<sp/>not<sp/>been<sp/>enabled<sp/>at<sp/>compilation<sp/>time,<sp/>a<sp/>stubbed<sp/>library<sp/>will<sp/>be<sp/>generated<sp/>with<sp/>only<sp/>libplugin_init<sp/>method<sp/>declared,<sp/>doing<sp/>nothing.<sp/>You<sp/>should<sp/>see<sp/>these<sp/>trace<sp/>in<sp/>logs,<sp/>if<sp/>plugin<sp/>is<sp/>stubbed:</highlight></codeline>
<codeline lineno="482"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="483"><highlight class="stringliteral">\code</highlight></codeline>
<codeline lineno="484"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="485"><highlight class="stringliteral">I/lib/Could<sp/>not<sp/>find<sp/>encoder<sp/>for<sp/>SILK</highlight></codeline>
<codeline lineno="486"><highlight class="stringliteral">I/lib/Could<sp/>not<sp/>find<sp/>decoder<sp/>for<sp/>SILK</highlight></codeline>
<codeline lineno="487"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="488"><highlight class="stringliteral">\endcode</highlight></codeline>
<codeline lineno="489"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="490"><highlight class="stringliteral">*/</highlight></codeline>
<codeline lineno="491"><highlight class="stringliteral"></highlight></codeline>
    </programlisting>
    <location file="C:/Jenkins/workspace/linphone-qt-win32/submodules/linphone/coreapi/help/doc/doxygen/doxygen.dox"/>
  </compounddef>
</doxygen>
